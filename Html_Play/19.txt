<style>
  * {
    box-sizing: border-box;
    font-family: 'Roboto', sans-serif;
  }

  body {
    margin: 0;
    background: #f0f0f0;
  }

  /* M≈©i t√™n trigger */
  #menuTrigger {
    position: fixed;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 50px;
    height: 25px;
    background: #4e54c8;
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    border-bottom-left-radius: 6px;
    border-bottom-right-radius: 6px;
    cursor: pointer;
    z-index: 1001;
    opacity: 0.4;
    transition: opacity 0.3s;
    font-size: 25px;
  }

  #menuTrigger:hover {
    opacity: 1;
  }

  #menuTrigger.hidden {
    opacity: 0;
    pointer-events: none;
  }

  #hiddenMenu {
    position: fixed;
    top: -100%;
    left: 0;
    width: 100%;
    background: linear-gradient(to right, #4e54c8, #8f94fb);
    color: white;
    padding: 20px;
    padding-top: 30px;
    transition: top 0.4s ease;
    z-index: 1000;
    border-bottom-left-radius: 8px;
    border-bottom-right-radius: 8px;
  }

  #hiddenMenu.open {
    top: 0;
  }

  h1 {
    margin-top: 0;
    font-size: 24px;
    text-align: center;
  }

  .menu-content {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 15px;
    margin-top: 10px;
  }

  label {
    font-size: 14px;
    display: block;
    margin-bottom: 5px;
  }

  select,
  input[type="color"],
  input[type="text"] {
    border: none;
    border-radius: 5px;
    padding: 6px;
  }

  .input-short {
    width: 35px;
  }

  .input-medium {
    width: 60px;
  }

  .input-full {
    width: 100%;
  }

  .menu-buttons {
    grid-column: 1 / -1;
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    margin-top: 10px;
  }

  .menu-buttons button {
    padding: 10px 15px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    background-color: white;
    color: #4e54c8;
    transition: background-color 0.2s;
  }

  .menu-buttons button:hover {
    background-color: #ddd;
  }
</style>

<div id="menuTrigger">‚öô</div>

<div id="hiddenMenu">
  <h1 style="color:aquamarine">Menu Setting Karaoke</h1>
  <div class="menu-content">
    <!-- C·ªôt tr√°i -->
    <div id="chon789">
      <label>Ch·∫ø ƒë·ªô:</label>
      <select class="input-full" id="chon123" onchange="changeKara123()" title="C√≥ th·ªÉ nh·∫•n ph√≠m k/K ƒë·ªÉ chuy·ªÉn ƒë·ªïi ch·∫ø ƒë·ªô">
        <option>B·∫°n h√°t</option>
        <option>Ca sƒ© h√°t</option>
      </select>
    </div>

    <div>
      <label>M√†u ch·ªØ ban ƒë·∫ßu:</label>
      <input type="color" class="input-full" id="mauX123" onchange="doimauX123()">
    </div>

    <div>
      <label>Font ch·ªØ:</label>
      <select class="input-full" title="Ch·ªçn ki·ªÉu ch·ªØ cho text hi·ªÉn th·ªã karaoke" id="fontKieu123" onchange="doiFontKieu123()">
        <option style="font-family:Arial Black">Arial Black</option>
        <option style="font-family:Segoe Marker">Segoe Marker</option>
        <option style="font-family:Segoe Script">Segoe Script</option>
        <option style="font-family:Tahoma">Tahoma</option>
        <option style="font-family:Times New Roman">Times New Roman</option>
        <option style="font-family:Segoe UI Black">Segoe UI Black</option>
      </select>
    </div>

    <div id="mau789">
      <label>M√†u ch·ªØ t√¥ ƒëi·ªÉm:</label>
      <input type="color" class="input-full" id="mau123" onchange="doimau123()">
    </div>

    <div>
      <label>C·ª° ch·ªØ:</label>
      <input type="text" class="input-medium" id="kichthuoc123" onchange="doikichthuoc123()">
    </div>

    <div>
      <label>M√†u ch·ªØ ƒë·∫øm ng∆∞·ª£c:</label>
      <input type="color" class="input-full" id="mauY123" onchange="doimauY123()">
    </div>

    <div>
      <label>Icon ƒë·∫øm ng∆∞·ª£c:</label>
      <input onchange="kieudem123()" type="text" class="input-short" title="Nh·∫≠p icon ƒë·∫øm ng∆∞·ª£c ƒë·ªÉ b·∫Øt ƒë·∫ßu karaoke" id="kieudemnguoc123">
    </div>

    <div>
      <label>ƒê·ªô ph·ªß n·ªÅn:</label>
      <input type="text" class="input-medium" id="anhmo123" title="Gi√° tr·ªã t·ª´ 0 - 1" onchange="moanh123()">
      <label>M√†u n·ªÅn:</label>
      <input type="color" class="input-full" title="Ch·ªçn m√†u n·ªÅn" onchange="moanh123()" id="maunex123">
    </div>

    <div class="menu-buttons">
      <button title="Nh·∫•n o/O ƒë·ªÉ kh·ªüi ƒë·ªông l·∫°i" onclick="resetKaraoke()">Ph√°t / Kh·ªüi ƒë·ªông l·∫°i</button>
      <button onclick="ghinho123()">L∆∞u c√°c c√†i ƒë·∫∑t hi·ªán t·∫°i</button>
      <button onclick="xoaghinho123()">Xo√° c√°c c√†i ƒë·∫∑t - tr·ªü v·ªÅ m·∫∑c ƒë·ªãnh</button>
      <button onclick="StopKaraoke()">Tho√°t</button>
      <b id="xemthumau" style="display:none"></b>
      <b id="xemmauthu" style="display:none"></b>
      <b id="xemmaudi" style="display:none"></b>
      <input style="display: none; width: 5em;" id="hang" type="number" min="0" value="0" onchange="doihang()">
      <span id="demnguockieu" style="display:none"></span>
      <input id="temp_text" style="display:none">
      <span id="menuX" style="display:none"></span>
      <span id="thietkeKara" style="display:none"></span>
      <span id="menuan" style="display:none"></span>
    </div>

    <div style="grid-column: 1 / -1">
      <b style="color:yellow">Nh·∫•n ph√≠m [SPACE] ƒë·ªÉ tr·∫£i nghi·ªám to√†n m√†n h√¨nh.</b>
    </div>
  </div>
  <br />
  <div id="khac1">
    <b style="color: springgreen;" title="B√†i h√°t ƒëang ƒë∆∞·ª£c ph√°t" id="BHphat"></b>&nbsp;
    <a id="sae" href="#xuly" onclick="copyshare123()">Share karaoke</a>&nbsp;
    <input type="checkbox" id="save123" onclick="saveshare123()" />
    <b id="bgX">Bao g·ªìm lu√¥n c√°c setting hi·ªán t·∫°i c·ªßa b·∫°n</b>
  </div>
  <br>
  <span style="background-color:yellow;color:red;">
    N·∫øu nh·∫°c ch∆∞a t·∫£i xong v√† ti·∫øn tr√¨nh ch·ªØ ch·∫°y kh√¥ng kh·ªõp, h√£y th·ª≠ nh·∫•n n√∫t [Kh·ªüi ƒë·ªông l·∫°i] v√†i l·∫ßn nh√© üòÅ
  </span>
</div>

<script>
  var kex = 0;

  function copyshare123() {
    document.getElementById('hiddenMenu').classList.remove('open');
    document.getElementById('menuTrigger').classList.remove('hidden');
    copyshare();
  }

  function ghinho123() {
    document.getElementById('hiddenMenu').classList.remove('open');
    document.getElementById('menuTrigger').classList.remove('hidden');
    ghinho();
  }

  function xoaghinho123() {
    document.getElementById('hiddenMenu').classList.remove('open');
    document.getElementById('menuTrigger').classList.remove('hidden');
    xoaghinho();
  }

  function dongmomenu() {
    document.getElementById("menu").style.display = "none";
  }

  function saveshare123() {
    document.getElementById("saveshare").checked = document.getElementById("save123").checked;
  }

  function changeKara123() {
    document.getElementById("chon").options.selectedIndex = document.getElementById("chon123").options.selectedIndex;
    changeKara();
  }

  function doimau123() {
    document.getElementById("mau").value = document.getElementById("mau123").value;
    doimau();
  }

  function doimauX123() {
    document.getElementById("mauX").value = document.getElementById("mauX123").value;
    doimauX();
  }

  function doimauY123() {
    document.getElementById("mauY").value = document.getElementById("mauY123").value;
    doimauY();
  }

  function doikichthuoc123() {
    document.getElementById("kichthuoc").value = document.getElementById("kichthuoc123").value;
    doikichthuoc();
  }

  function kieudem123() {
    document.getElementById("kieudemnguoc").value = document.getElementById("kieudemnguoc123").value;
  }

  function doiFontKieu123() {
    document.getElementById("fontKieu").options.selectedIndex = document.getElementById("fontKieu123").options.selectedIndex;
    doiFontKieu();
  }

  function moanh123() {
    document.getElementById("anhmo").value = document.getElementById("anhmo123").value;
    document.getElementById("maunex").value = document.getElementById("maunex123").value;
    moanh();
  }

  setInterval(function () {
    if (loadxong6 == 0 || kex == 1) return;
    document.getElementById("modalOverlay8").style.display = "none";

    document.getElementById("maunex123").value = document.getElementById("maunex").value;
    document.getElementById("anhmo123").value = document.getElementById("anhmo").value;
    document.getElementById("fontKieu123").options.selectedIndex = document.getElementById("fontKieu").options.selectedIndex;
    document.getElementById("kieudemnguoc123").value = document.getElementById("kieudemnguoc").value;
    document.getElementById("kichthuoc123").value = document.getElementById("kichthuoc").value;
    document.getElementById("mauY123").value = document.getElementById("mauY").value;
    document.getElementById("mauX123").value = document.getElementById("mauX").value;
    document.getElementById("mau123").value = document.getElementById("mau").value;
    document.getElementById("chon123").options.selectedIndex = document.getElementById("chon").options.selectedIndex;
    document.getElementById("mau789").style.display = (document.getElementById("custom1388") == null) ? "block" : "none";
    document.getElementById("chon789").style.display = document.getElementById("chon").style.display;

    if (document.getElementById("baihatXYZ").innerText != "") {
      document.getElementById("BHphat").innerText = document.getElementById("baihatXYZ").innerText;
    } else {
      document.getElementById("khac1").style.display = "none";
    }

    if (document.getElementById("saveshare") == null) {
      document.getElementById("bgX").style.display = "none";
      document.getElementById("save123").style.display = "none";
      document.getElementById("sae").style.display = "none";
    }

    const trigger = document.getElementById("menuTrigger");
    const menu = document.getElementById("hiddenMenu");
    const kieudemnguoc = document.getElementById("kieudemnguoc");

    let insideMenu = false;
    let inputFocused = false;

    trigger.addEventListener("mouseover", () => {
      menu.classList.add("open");
      trigger.classList.add("hidden");
    });

    menu.addEventListener("mouseover", () => {
      insideMenu = true;
    });

    menu.addEventListener("mouseout", () => {
      insideMenu = false;
      setTimeout(() => {
        if (!insideMenu && !inputFocused) {
          menu.classList.remove("open");
          trigger.classList.remove("hidden");
        }
      }, 300);
    });

    kieudemnguoc.addEventListener("focus", () => {
      inputFocused = true;
    });

    kieudemnguoc.addEventListener("blur", () => {
      inputFocused = false;
      setTimeout(() => {
        if (!insideMenu) {
          menu.classList.remove("open");
          trigger.classList.remove("hidden");
        }
      }, 300);
    });

    kex++;
  }, 1000);
</script>
